import { error } from '@sveltejs/kit';
import { getUser } from '$lib/backend';

// TBD: write test for this function
export const load = async () => {
	const user = await getUser();
	if (user === null) {
		return error(401, 'Unauthorized');
	}
	return {
		props: {
			user: user
		}
	};
};
